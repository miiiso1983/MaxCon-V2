# ุฅุตูุงุญ ูุดููุฉ ุงูุฑูุช ุงูููููุฏ: ุงููุญูุตุงุช ุงููุฎุชุจุฑูุฉ ุงููุชุฃุฎุฑุฉ

## ๐ง ุงููุดููุฉ ุงูุฃุตููุฉ
```
Route [tenant.inventory.regulatory.laboratory-tests.overdue] not defined.
```

## โ ุงูุญู ุงูููุทุจู

### 1. ุฅุถุงูุฉ ุงูุฑูุช ุงูููููุฏ
**ุงูููู:** `routes/tenant/regulatory.php`
```php
// Laboratory Tests Routes
Route::get('laboratory-tests', [LaboratoryTestController::class, 'index'])->name('laboratory-tests.index');
Route::get('laboratory-tests/create', [LaboratoryTestController::class, 'create'])->name('laboratory-tests.create');
Route::get('laboratory-tests/overdue', [LaboratoryTestController::class, 'overdue'])->name('laboratory-tests.overdue');
// ... ุจุงูู ุงูุฑูุชุงุช
```

**ููุงุญุธุฉ ูููุฉ:** ุชู ูุถุน ุฑูุช `overdue` ูุจู ุงูุฑูุชุงุช ุงูุชู ุชุญุชูู ุนูู parameters ูุชุฌูุจ ุงูุชุถุงุฑุจ.

### 2. ุฅุถุงูุฉ Controller Method
**ุงูููู:** `app/Http/Controllers/Tenant/Regulatory/LaboratoryTestController.php`
```php
/**
 * Display overdue tests
 */
public function overdue()
{
    $tests = LaboratoryTest::where('tenant_id', Auth::user()->tenant_id)
        ->overdue()
        ->orderBy('test_date', 'asc')
        ->get();

    return view('tenant.regulatory.laboratory-tests.overdue', compact('tests'));
}
```

### 3. ุฅูุดุงุก ุตูุญุฉ ุงูุนุฑุถ ุงููุชูุฏูุฉ
**ุงูููู:** `resources/views/tenant/regulatory/laboratory-tests/overdue.blade.php`

**ุงููููุฒุงุช:**
- ุชุตููู ูุชุฌุงูุจ ูุน Bootstrap 4
- ุฅุญุตุงุฆูุงุช ููููุฉ ูููุญูุตุงุช ุญุณุจ ุฏุฑุฌุฉ ุงูุชุฃุฎูุฑ
- ุฌุฏูู ุชูุงุนูู ูุน DataTables
- ูุธุงู ุชูุจููุงุช ุจุตุฑูุฉ (ุฃุญูุฑ ูููุชุฃุฎุฑุฉ ุฌุฏุงูุ ุจุฑุชูุงูู ูููุชุฃุฎุฑุฉ)
- ุฅููุงููุฉ ุชุญุฏูุซ ุญุงูุฉ ุงููุญูุตุงุช ูุจุงุดุฑุฉ ูู ุงูุตูุญุฉ
- ุฅููุงููุฉ ุฅุนุงุฏุฉ ุฌุฏููุฉ ุงููุญูุตุงุช
- ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ

### 4. ุชุญุณูู Model ููุฏุนู ุงููุงูู
**ุงูููู:** `app/Models/Tenant/Regulatory/LaboratoryTest.php`

**ุงูุชุญุณููุงุช:**
- ุฅุถุงูุฉ UUID support
- ุฅุถุงูุฉ ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ ููู fillable
- ุฅุถุงูุฉ cast ููุชูุงุฑูุฎ ุงูุฌุฏูุฏุฉ
- ุชุญุณูู scope `overdue`

### 5. ุฅุถุงูุฉ Migrations ููุฃุนูุฏุฉ ุงูููููุฏุฉ
**ุงููููุงุช:**
- `database/migrations/2025_07_17_224017_add_missing_columns_to_laboratory_tests_table.php`
- `database/migrations/2025_07_17_224533_make_product_id_nullable_in_laboratory_tests_table.php`

**ุงูุฃุนูุฏุฉ ุงูููุถุงูุฉ:**
- `test_name` - ุงุณู ุงููุญุต
- `product_name` - ุงุณู ุงูููุชุฌ
- `batch_number` - ุฑูู ุงูุฏูุนุฉ
- `expected_completion_date` - ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ ุงููุชููุน
- `cost` - ุชูููุฉ ุงููุญุต
- `priority` - ุฃููููุฉ ุงููุญุต

### 6. ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุดุงููุฉ
**ุงูููู:** `database/seeders/LaboratoryTestSeeder.php`

**ุงูุจูุงูุงุช ุงูููุถุงูุฉ:**
- 8 ูุญูุตุงุช ูุชุฃุฎุฑุฉ ูุน ูุชุฑุงุช ุชุฃุฎูุฑ ูุฎุชููุฉ
- 3 ูุญูุตุงุช ูุชุฃุฎุฑุฉ ุฃูุซุฑ ูู 14 ููู
- 3 ูุญูุตุงุช ูุชุฃุฎุฑุฉ 7-14 ููู
- 2 ูุญูุตุงุช ูุชุฃุฎุฑุฉ ุฃูู ูู 7 ุฃูุงู

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุนุฉ

### ุญุณุจ ุฏุฑุฌุฉ ุงูุชุฃุฎูุฑ:
- **ูุชุฃุฎุฑุฉ ุฃูุซุฑ ูู 14 ููู:** 3 ูุญูุตุงุช (ุฃุญูุฑ)
- **ูุชุฃุฎุฑุฉ 7-14 ููู:** 3 ูุญูุตุงุช (ุจุฑุชูุงูู)
- **ูุชุฃุฎุฑุฉ ุฃูู ูู 7 ุฃูุงู:** 2 ูุญูุตุงุช (ุฃุฒุฑู)

### ุฃููุงุน ุงููุญูุตุงุช:
- ูุฑุงูุจุฉ ุงูุฌูุฏุฉ (3 ูุญูุตุงุช)
- ุงุฎุชุจุงุฑ ุงูุซุจุงุช (2 ูุญูุตุงุช)
- ูุญุต ูููุฑูุจููููุฌู (1 ูุญุต)
- ุชุญููู ููููุงุฆู (1 ูุญุต)
- ูุญุต ููุฒูุงุฆู (1 ูุญุต)

### ุญุณุจ ุงูุฃููููุฉ:
- ุนุงููุฉ (4 ูุญูุตุงุช)
- ูุชูุณุทุฉ (3 ูุญูุตุงุช)
- ููุฎูุถุฉ (1 ูุญุต)

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุดุบูู ุงูู Migrations
```bash
php artisan migrate
```

### 2. ุชุดุบูู ุงูู Seeder
```bash
php artisan db:seed --class=LaboratoryTestSeeder
```

### 3. ุงููุตูู ููุตูุญุฉ
```
/tenant/inventory/regulatory/laboratory-tests/overdue
```

### 4. ุงููููุฒุงุช ุงููุชุงุญุฉ
- **ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช:** ูุฑูุช ููููุฉ ุชุธูุฑ ุนุฏุฏ ุงููุญูุตุงุช ุญุณุจ ุฏุฑุฌุฉ ุงูุชุฃุฎูุฑ
- **ุฌุฏูู ุชูุงุนูู:** ุจุญุซ ูุชุฑุชูุจ ูุชุตููุฉ
- **ุชุญุฏูุซ ุงูุญุงูุฉ:** ููุงูุฐ ููุจุซูุฉ ูุชุญุฏูุซ ุญุงูุฉ ุงููุญูุตุงุช
- **ุฅุนุงุฏุฉ ุงูุฌุฏููุฉ:** ุฅููุงููุฉ ุชุญุฏูุฏ ุชุงุฑูุฎ ุฌุฏูุฏ ูููุญุต
- **ุชุตุฏูุฑ ุงูุจูุงูุงุช:** Excel ูุทุจุงุนุฉ
- **ุชุตููู ูุชุฌุงูุจ:** ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ

## ๐ง ุงููููุงุช ุงูููุนุฏูุฉ ูุงูููุถุงูุฉ

### ุงููููุงุช ุงูููุนุฏูุฉ:
1. `routes/tenant/regulatory.php` - ุฅุถุงูุฉ ุงูุฑูุช
2. `app/Http/Controllers/Tenant/Regulatory/LaboratoryTestController.php` - ุฅุถุงูุฉ method
3. `app/Models/Tenant/Regulatory/LaboratoryTest.php` - ุชุญุณููุงุช Model

### ุงููููุงุช ุงูููุถุงูุฉ:
1. `resources/views/tenant/regulatory/laboratory-tests/overdue.blade.php` - ุตูุญุฉ ุงูุนุฑุถ
2. `database/seeders/LaboratoryTestSeeder.php` - ุจูุงูุงุช ุชุฌุฑูุจูุฉ
3. `database/migrations/2025_07_17_224017_add_missing_columns_to_laboratory_tests_table.php`
4. `database/migrations/2025_07_17_224533_make_product_id_nullable_in_laboratory_tests_table.php`
5. `LABORATORY_TESTS_OVERDUE_FIX.md` - ูุฐุง ุงูููู

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

- โ ุงูุฑูุช ูุนูู ุจุฏูู ุฃุฎุทุงุก
- โ ุตูุญุฉ ุฌูููุฉ ููุชุฌุงูุจุฉ ูุน ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ
- โ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุดุงููุฉ ููุงุฎุชุจุงุฑ
- โ ูุธุงุฆู ุชูุงุนููุฉ ูุชูุฏูุฉ (ุชุญุฏูุซุ ุฅุนุงุฏุฉ ุฌุฏููุฉ)
- โ ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ
- โ ุชุตููู ูุชูุงูู ูุน ุงููุธุงู
- โ ูุธุงู ุชูุจููุงุช ุจุตุฑูุฉ ุญุณุจ ุฏุฑุฌุฉ ุงูุชุฃุฎูุฑ

## ๐ ุงูุฑูุชุงุช ุฐุงุช ุงูุตูุฉ

- `laboratory-tests.index` - ูุงุฆูุฉ ุฌููุน ุงููุญูุตุงุช
- `laboratory-tests.create` - ุฅุถุงูุฉ ูุญุต ุฌุฏูุฏ
- `laboratory-tests.overdue` - ุงููุญูุตุงุช ุงููุชุฃุฎุฑุฉ
- `laboratory-tests.schedule` - ุฌุฏููุฉ ุงููุญูุตุงุช
- `laboratory-tests.export` - ุชุตุฏูุฑ ุงูุจูุงูุงุช

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุตุงุฏูุฉ ูุทููุจุฉ:** ุงูุฑูุช ูุญูู ุจู middleware `auth`
2. **ุตูุงุญูุงุช ุงููุณุชุฃุฌุฑ:** ูุนุฑุถ ููุท ูุญูุตุงุช ุงููุณุชุฃุฌุฑ ุงูุญุงูู
3. **ุงูุชุญุฏูุซ ุงูุชููุงุฆู:** ุงูู scope `overdue` ูุญุณุจ ุงูุชูุงุฑูุฎ ุชููุงุฆูุงู
4. **ุงูุฃูุงู:** ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจู CSRF tokens
5. **ุงูุฃุฏุงุก:** ุงุณุชุฎุฏุงู ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุจุญุซ ุงูุณุฑูุน

## ๐ฏ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

- ุฅุถุงูุฉ ุชูุจููุงุช ุจุฑูุฏ ุฅููุชุฑููู ูููุญูุตุงุช ุงููุชุฃุฎุฑุฉ
- ุชูุงุฑูุฑ ุชุญููููุฉ ูุชูุฏูุฉ
- ุชูุงูู ูุน ุฃูุธูุฉ ุฅุฏุงุฑุฉ ุงููุฎุชุจุฑุงุช
- ุฅุดุนุงุฑุงุช ูู ุงูููุช ุงููุนูู
- ุชุตุฏูุฑ ุชูุงุฑูุฑ PDF ูุฎุตุตุฉ
- ูุธุงู ุชุชุจุน ุชูุฏู ุงููุญูุตุงุช

## ๐ ุงุฎุชุจุงุฑ ุงููุธุงุฆู

### ุงุฎุชุจุงุฑ ุงูู Scope:
```php
// Get overdue tests
$overdueTests = LaboratoryTest::where('tenant_id', 1)->overdue()->get();

// Check if specific test is overdue
$test = LaboratoryTest::find('test-id');
$isOverdue = $test->is_overdue; // true/false
```

### ุงุฎุชุจุงุฑ ุงูุฅุญุตุงุฆูุงุช:
```php
// Count by delay period
$veryOverdue = $tests->filter(fn($test) => $test->test_date->diffInDays(now()) > 14)->count();
$moderatelyOverdue = $tests->filter(fn($test) => $test->test_date->diffInDays(now()) > 7 && $test->test_date->diffInDays(now()) <= 14)->count();
```

---

**๐ ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจูุฌุงุญ ูุฅุถุงูุฉ ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงููุญูุตุงุช ุงููุฎุชุจุฑูุฉ ุงููุชุฃุฎุฑุฉ!**
